{"version":3,"sources":["components/SearchForm/Select.module.css","components/BookList/BookList.module.css","components/Button/Button.module.css","services/book-api.js","components/SearchForm/SearchForm.js","components/BookListItem/BookListItem.styled.js","components/BookListItem/BookListItem.js","components/BookList/BookList.js","components/Button/Button.js","components/App.js","index.js"],"names":["module","exports","form","input","select","button","list","fetchBooks","query","arguments","length","undefined","gender","startIndex","axios","get","concat","then","res","data","SearchForm","state","value","selectedOption","handleChangeInput","e","_this","setState","target","handleChangeSelect","handleSubmit","preventDefault","_this$props","props","resetState","onSubmit","setValue","genres","reset","_this$state","this","react_default","a","createElement","className","styles","onChange","react_select_esm","options","genders","type","Component","Item","styled","li","_templateObject","Image","img","_templateObject2","Title","h5","_templateObject3","Description","p","_templateObject4","Author","_templateObject5","Publisher","_templateObject6","PublishedDate","_templateObject7","PageCount","_templateObject8","Button","_templateObject9","_templateObject10","BookListItem","hide","cutString","text","substring","handleShowMore","description","title","authors","publisher","publishedDate","pageCount","imageLinks","src","thumbnail","Fragment","map","author","key","style","marginRight","BookListItem_styled_Button","onClick","defaultProps","BookList","_ref","items","item","BookListItem_BookListItem","Object","assign","id","children","spinnerStyles","position","left","top","transform","mapper","book","volumeInfo","objectSpread","App","books","isLoading","error","isLoadMore","loadMorebutton","createRef","indexIncrement","handleFetchBooks","BooksAPI","_ref2","toConsumableArray","catch","finally","handleChangeBooksWithArguments","bind","SearchForm_SearchForm","dist_default","name","color","fadeIn","components_BookList_BookList","message","components_Button_Button","ref","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.5d5490ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Select_form__2b99X\",\"input\":\"Select_input__2pA-g\",\"select\":\"Select_select__2idWu\",\"button\":\"Select_button__1wOOP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"BookList_list__3Tq3s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3KQJj\"};","import axios from 'axios';\n\nexport const fetchBooks = (\n  query = 'react',\n  gender = 'computers',\n  startIndex = 0,\n) => {\n  return axios\n    .get(\n      `https://www.googleapis.com/books/v1/volumes?q=${query}+subject:${gender}&startIndex=${startIndex}`,\n    )\n    .then(res => res.data);\n};\n\nexport const eslintGoodBuy = () => null;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport genders from '../../options/genres.json';\nimport styles from './Select.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n    resetState: PropTypes.func.isRequired,\n    setValue: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n    selectedOption: '',\n  };\n\n  handleChangeInput = e => this.setState({ value: e.target.value });\n\n  handleChangeSelect = selectedOption => this.setState({ selectedOption });\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { resetState, onSubmit, setValue } = this.props;\n    const { value } = this.state;\n    const genres = this.state.selectedOption.value || '';\n    resetState();\n    setValue(value, genres);\n    onSubmit(value, genres);\n    this.reset();\n  };\n\n  reset = () => this.setState({ value: '', selectedOption: '' });\n\n  render() {\n    const { value, selectedOption } = this.state;\n    return (\n      <form className={styles.form} onSubmit={this.handleSubmit}>\n        <input\n          className={styles.input}\n          onChange={this.handleChangeInput}\n          value={value}\n        />\n        <Select\n          className={styles.select}\n          value={selectedOption}\n          onChange={this.handleChangeSelect}\n          options={genders}\n        />\n        <button className={styles.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n    );\n  }\n}\n","import styled from 'styled-components';\n\nexport const Item = styled.li`\n  display: flex;\n  flex-direction: row;\n  width: 47%;\n  background-color: #fff;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);\n  border: honeydew;\n  margin: 20px;\n  font: inherit;\n  border-radius: 3px;\n  outline: none;\n}\n`;\n\nexport const Image = styled.img`\n  margin: 30px;\n  display: block;\n  height: auto;\n  border-radius: 5px;\n`;\n\nexport const Title = styled.h5`\n  margin: 10px;\n  font-size: 20px;\n`;\n\nexport const Description = styled.p`\n  width: 95%;\n  margin: 2px;\n`;\n\nexport const Author = styled.p`\n  margin: 2px;\n`;\n\nexport const Publisher = styled.p`\n  margin: 2px;\n`;\n\nexport const PublishedDate = styled.p`\n  margin: 2px;\n`;\n\nexport const PageCount = styled.p`\n  margin: 2px;\n`;\n\nexport const Rating = styled.p`\n  margin: 2px;\n`;\n\nexport const Button = styled.button`\n  margin-top: 10px;\n  background-color: #3784fe;\n  font-size: 14px;\n  border-radius: 5px;\n  border: none;\n  display: block;\n  color: #fff;\n  padding: 4px 15px;\n  cursor: pointer;\n`;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Item,\n  Image,\n  Title,\n  Description,\n  Author,\n  Publisher,\n  PublishedDate,\n  PageCount,\n  Button,\n} from './BookListItem.styled';\n\nexport default class BookListItem extends Component {\n  state = {\n    hide: false,\n  };\n\n  static propTypes = {\n    title: PropTypes.string,\n    authors: PropTypes.arrayOf(PropTypes.string),\n    description: PropTypes.string,\n    imageLinks: PropTypes.shape({ thumbnail: PropTypes.string }),\n    publisher: PropTypes.string,\n    publishedDate: PropTypes.string,\n    pageCount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  };\n\n  componentDidMount() {\n    const { description } = this.props;\n    if (description.length > 80) this.setState({ hide: true });\n  }\n\n  cutString = text => text.substring(0, 80);\n\n  handleShowMore = () => {\n    this.setState({ hide: false });\n  };\n\n  render() {\n    const {\n      title,\n      description,\n      authors,\n      publisher,\n      publishedDate,\n      pageCount,\n      imageLinks,\n    } = this.props;\n    const { hide } = this.state;\n\n    return (\n      <Item>\n        <Image src={imageLinks.thumbnail} />\n        <div>\n          <Title>{title}</Title>\n          {hide ? (\n            <>\n              <Description>{`${this.cutString(description)}...`} </Description>\n            </>\n          ) : (\n            <Description>{description}</Description>\n          )}\n\n          <Author>\n            {authors && authors.length > 1\n              ? authors.map(author => (\n                  <span key={author} style={{ marginRight: '10px' }}>\n                    {author}\n                  </span>\n                ))\n              : authors}\n          </Author>\n          <Publisher>{publisher}</Publisher>\n          <PublishedDate>{publishedDate}</PublishedDate>\n          <PageCount>{pageCount}</PageCount>\n          <Button type=\"submit\" onClick={this.handleShowMore}>\n            show more\n          </Button>\n        </div>\n      </Item>\n    );\n  }\n}\n\nBookListItem.defaultProps = {\n  title: 'Sorry! Unknown title',\n  description: 'Sorry! Unknown description',\n  publisher: 'Sorry! Unknown publisher',\n  authors: ['Sorry! Unknown author'],\n  imageLinks:\n    'https://dwsinc.co/wp-content/uploads/2018/05/image-not-found.jpg',\n  publishedDate: 'Sorry! Unknown published date',\n  pageCount: 'Sorry! Unknown page count',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './BookList.module.css';\n\nimport BookListItem from '../BookListItem/BookListItem';\n\nconst BookList = ({ items }) => (\n  <ul className={styles.list}>\n    {items.map(item => (\n      <BookListItem key={item.id} {...item} />\n    ))}\n  </ul>\n);\n\nBookList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({ id: PropTypes.string.isRequired }).isRequired,\n  ).isRequired,\n};\n\nexport default BookList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick, children }) => (\n  <button className={styles.button} type=\"button\" onClick={onClick}>\n    {children}\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  children: PropTypes.string.isRequired,\n};\n\nexport default Button;\n","import React, { Component, createRef } from 'react';\nimport Spinner from 'react-spinkit';\nimport * as BooksAPI from '../services/book-api';\nimport SearchForm from './SearchForm/SearchForm';\nimport BookList from './BookList/BookList';\nimport Button from './Button/Button';\n\nconst spinnerStyles = {\n  position: 'fixed',\n  left: '50%',\n  top: '50%',\n  transform: 'translate(-50%, -50%)',\n};\n\nconst mapper = items => {\n  return items.map(({ volumeInfo: book, id }) => ({\n    ...book,\n    id,\n  }));\n};\n\nexport default class App extends Component {\n  state = {\n    books: [],\n    isLoading: false,\n    error: null,\n    isLoadMore: false,\n    value: '',\n    genres: '',\n    startIndex: 0,\n  };\n\n  loadMorebutton = createRef();\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    this.handleFetchBooks();\n  }\n\n  indexIncrement = () =>\n    this.setState(state => ({\n      startIndex: state.startIndex + 10,\n    }));\n\n  resetState = () =>\n    this.setState({ isLoadMore: true, books: [], startIndex: 0 });\n\n  setValue = (value, genres) => this.setState({ value, genres });\n\n  handleFetchBooks = (query, genres, startIndex) => {\n    this.setState({ isLoading: true });\n    BooksAPI.fetchBooks(query, genres, startIndex)\n      .then(({ items }) => {\n        this.setState(state => ({ books: [...state.books, ...mapper(items)] }));\n        this.indexIncrement();\n      })\n      .catch(error => this.setState({ error, isLoadMore: false }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const {\n      books,\n      isLoading,\n      error,\n      isLoadMore,\n      value,\n      genres,\n      startIndex,\n    } = this.state;\n\n    const handleChangeBooksWithArguments = this.handleFetchBooks.bind(\n      null,\n      value,\n      genres,\n      startIndex,\n    );\n    return (\n      <>\n        <SearchForm\n          onSubmit={this.handleFetchBooks}\n          resetState={this.resetState}\n          setValue={this.setValue}\n        />\n        {isLoading && (\n          <Spinner\n            name=\"ball-clip-rotate-multiple\"\n            color=\"blue\"\n            fadeIn=\"none\"\n            style={spinnerStyles}\n          />\n        )}\n        {books.length !== 0 && <BookList items={books} />}\n        {error && (\n          <p>\n            Whoops, something went wrong: {error.message}\n            {}\n          </p>\n        )}\n        {books.length !== 0 && isLoadMore && (\n          <Button\n            ref={this.loadMorebutton}\n            // eslint-disable-next-line react/jsx-no-bind\n            onClick={handleChangeBooksWithArguments}\n          >\n            Load more\n          </Button>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}